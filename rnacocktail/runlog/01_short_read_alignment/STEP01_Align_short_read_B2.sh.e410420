INFO 2017-11-05 09:11:33,840 src.utils            Running RNASeqPipeline 0.2.1
INFO 2017-11-05 09:11:33,841 src.utils            Command-line /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/scripts/run_rnacocktail.py align --align_idx /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/example/Homo_sapiens.GRCh37.75.dna.chromosome.21.HISAT2 --outdir /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out --workdir /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work --threads 5 --ref_gtf /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/example_small/Homo_sapiens.GRCh37.75.gtf --1 /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/B2_1.fq.gz --2 /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/B2_2.fq.gz --U  --sra  --sample B2 --hisat2_opts 
INFO 2017-11-05 09:11:33,841 src.utils            Arguments are Namespace(1='/hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/B2_1.fq.gz', 2='/hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/B2_2.fq.gz', U='', align_idx='/hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/example/Homo_sapiens.GRCh37.75.dna.chromosome.21.HISAT2', hisat2='hisat2', hisat2_opts='', hisat2_sps='hisat2_extract_splice_sites.py', mode='align', outdir='/hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out', ref_gtf='/hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/example_small/Homo_sapiens.GRCh37.75.gtf', sample='B2', samtools='samtools', sr_aligner='HISAT2', sra='', start=0, threads=5, timeout=10000000, workdir='/hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work')
INFO 2017-11-05 09:11:33,842 src.utils            Run log will be saved in /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/logs/run-B2-align-20171105-091133.log
INFO 2017-11-05 09:11:33,842 src.utils            Run in mode: align
INFO 2017-11-05 09:11:33,842 src.utils            Assigned sample ID: B2
INFO 2017-11-05 09:11:33,842 src.utils            Running align step using HISAT2
INFO 2017-11-05 09:11:33,842 src.run_sr_align     Running alignment (HISAT2) for B2
INFO 2017-11-05 09:11:33,850 src.run_sr_align     --------------------------STEP 0--------------------------
INFO 2017-11-05 09:11:33,850 src.run_sr_align     Task: Erase HISAT2 work directory for B2 
INFO 2017-11-05 09:11:33,850 src.run_sr_align     Running "bash -c rm -rf /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/*" 
INFO 2017-11-05 09:11:33,905 src.run_sr_align     Done Erase HISAT2 work directory for B2 
INFO 2017-11-05 09:11:33,906 src.run_sr_align     Returned code 0 (0.051878 seconds)
INFO 2017-11-05 09:11:33,910 src.run_sr_align     --------------------------STEP 1--------------------------
INFO 2017-11-05 09:11:33,919 src.run_sr_align     Task: compute --known-splicesite-infile for HISAT2 
INFO 2017-11-05 09:11:33,919 src.run_sr_align     Running "bash -c hisat2_extract_splice_sites.py /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/example_small/Homo_sapiens.GRCh37.75.gtf" 
INFO 2017-11-05 09:12:05,530 src.run_sr_align     Done compute --known-splicesite-infile for HISAT2 
INFO 2017-11-05 09:12:05,531 src.run_sr_align     Returned code 0 (31.6 seconds)
INFO 2017-11-05 09:12:05,531 src.run_sr_align     --------------------------STEP 2--------------------------
INFO 2017-11-05 09:12:05,533 src.run_sr_align     Task: HISAT2 for B2 
INFO 2017-11-05 09:12:05,533 src.run_sr_align     Running "bash -c hisat2  --dta --rg-id hisat2 --rg SM:B2 --threads 5 --known-splicesite-infile /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/known-splicesite.txt  -x /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/example/Homo_sapiens.GRCh37.75.dna.chromosome.21.HISAT2 -1 /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/B2_1.fq.gz -2 /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/B2_2.fq.gz -S /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/alignments.sam --novel-splicesite-outfile /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/splicesites.tab 2>/hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2hisat2_bam.log" 
INFO 2017-11-05 09:12:12,133 src.run_sr_align     Done HISAT2 for B2 
INFO 2017-11-05 09:12:12,134 src.run_sr_align     Returned code 0 (6.58533 seconds)
INFO 2017-11-05 09:12:12,134 src.run_sr_align     --------------------------STEP 3--------------------------
INFO 2017-11-05 09:12:12,135 src.run_sr_align     Task: converting SAM to BAM for B2 
INFO 2017-11-05 09:12:12,135 src.run_sr_align     Running "bash -c samtools view -Su /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/alignments.sam -@ 5 -o /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/alignments.bam" 
INFO 2017-11-05 09:12:13,516 src.run_sr_align     Done converting SAM to BAM for B2 
INFO 2017-11-05 09:12:13,516 src.run_sr_align     Returned code 0 (1.36924 seconds)
INFO 2017-11-05 09:12:13,517 src.run_sr_align     --------------------------STEP 4--------------------------
INFO 2017-11-05 09:12:13,517 src.run_sr_align     Task: sorting BAM for B2 
INFO 2017-11-05 09:12:13,517 src.run_sr_align     Running "bash -c samtools sort  -@ 5 /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/alignments.bam -o /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/alignments.sorted.bam" 
INFO 2017-11-05 09:12:15,168 src.run_sr_align     Done sorting BAM for B2 
INFO 2017-11-05 09:12:15,169 src.run_sr_align     Returned code 0 (1.63834 seconds)
INFO 2017-11-05 09:12:15,169 src.run_sr_align     --------------------------STEP 5--------------------------
INFO 2017-11-05 09:12:15,169 src.run_sr_align     Task: Converting junctions to BED for B2 
INFO 2017-11-05 09:12:15,170 src.run_sr_align     Running "bash -c hisat2_jun2bed.py /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/splicesites.tab /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/splicesites.bed " 
INFO 2017-11-05 09:12:15,432 src.run_sr_align     Done Converting junctions to BED for B2 
INFO 2017-11-05 09:12:15,432 src.run_sr_align     Returned code 0 (0.249754 seconds)
INFO 2017-11-05 09:12:15,433 src.run_sr_align     --------------------------STEP 6--------------------------
INFO 2017-11-05 09:12:15,433 src.run_sr_align     Task: Clean temp alignment files for B2 
INFO 2017-11-05 09:12:15,433 src.run_sr_align     Running "bash -c rm /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/alignments.sam /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/alignments.bam" 
INFO 2017-11-05 09:12:15,560 src.run_sr_align     Done Clean temp alignment files for B2 
INFO 2017-11-05 09:12:15,560 src.run_sr_align     Returned code 0 (0.11664 seconds)
INFO 2017-11-05 09:12:15,564 src.run_sr_align     --------------------------STEP 7--------------------------
INFO 2017-11-05 09:12:15,565 src.run_sr_align     Task: Copy predictions to output directory for B2. 
INFO 2017-11-05 09:12:15,565 src.run_sr_align     Running "cp /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/alignments.sorted.bam /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/B2/alignments.sorted.bam" 
INFO 2017-11-05 09:12:16,014 src.run_sr_align     Done Copy predictions to output directory for B2. 
INFO 2017-11-05 09:12:16,014 src.run_sr_align     Returned code 0 (0.436112 seconds)
INFO 2017-11-05 09:12:16,015 src.run_sr_align     Task: Copy predictions to output directory for B2. 
INFO 2017-11-05 09:12:16,015 src.run_sr_align     Running "cp /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/splicesites.tab /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/B2/splicesites.tab" 
INFO 2017-11-05 09:12:16,681 src.run_sr_align     Done Copy predictions to output directory for B2. 
INFO 2017-11-05 09:12:16,682 src.run_sr_align     Returned code 0 (0.652481 seconds)
INFO 2017-11-05 09:12:16,682 src.run_sr_align     Task: Copy predictions to output directory for B2. 
INFO 2017-11-05 09:12:16,683 src.run_sr_align     Running "cp /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/B2/splicesites.bed /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/B2/splicesites.bed" 
INFO 2017-11-05 09:12:17,053 src.run_sr_align     Done Copy predictions to output directory for B2. 
INFO 2017-11-05 09:12:17,053 src.run_sr_align     Returned code 0 (0.35763 seconds)
INFO 2017-11-05 09:12:17,054 src.run_sr_align     HISAT2 was successfull!
INFO 2017-11-05 09:12:17,054 src.run_sr_align     Output alignment: /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/B2/alignments.sorted.bam
INFO 2017-11-05 09:12:17,054 src.run_sr_align     Output junction tab: /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/B2/splicesites.tab
INFO 2017-11-05 09:12:17,054 src.run_sr_align     Output junction bed: /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/B2/splicesites.bed
INFO 2017-11-05 09:12:17,055 src.utils            Run log is saved in /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/logs/run-B2-align-20171105-091133.log
INFO 2017-11-05 09:12:17,055 src.utils            All Done!
