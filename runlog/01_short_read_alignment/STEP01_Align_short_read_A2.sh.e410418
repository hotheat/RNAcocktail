INFO 2017-11-05 09:10:42,397 src.utils            Running RNASeqPipeline 0.2.1
INFO 2017-11-05 09:10:42,397 src.utils            Command-line /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/scripts/run_rnacocktail.py align --align_idx /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/example/Homo_sapiens.GRCh37.75.dna.chromosome.21.HISAT2 --outdir /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out --workdir /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work --threads 5 --ref_gtf /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/example_small/Homo_sapiens.GRCh37.75.gtf --1 /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/A2_1.fq.gz --2 /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/A2_2.fq.gz --U  --sra  --sample A2 --hisat2_opts 
INFO 2017-11-05 09:10:42,398 src.utils            Arguments are Namespace(1='/hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/A2_1.fq.gz', 2='/hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/A2_2.fq.gz', U='', align_idx='/hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/example/Homo_sapiens.GRCh37.75.dna.chromosome.21.HISAT2', hisat2='hisat2', hisat2_opts='', hisat2_sps='hisat2_extract_splice_sites.py', mode='align', outdir='/hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out', ref_gtf='/hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/example_small/Homo_sapiens.GRCh37.75.gtf', sample='A2', samtools='samtools', sr_aligner='HISAT2', sra='', start=0, threads=5, timeout=10000000, workdir='/hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work')
INFO 2017-11-05 09:10:42,398 src.utils            Run log will be saved in /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/logs/run-A2-align-20171105-091042.log
INFO 2017-11-05 09:10:42,398 src.utils            Run in mode: align
INFO 2017-11-05 09:10:42,398 src.utils            Assigned sample ID: A2
INFO 2017-11-05 09:10:42,398 src.utils            Running align step using HISAT2
INFO 2017-11-05 09:10:42,398 src.run_sr_align     Running alignment (HISAT2) for A2
INFO 2017-11-05 09:10:42,402 src.run_sr_align     --------------------------STEP 0--------------------------
INFO 2017-11-05 09:10:42,402 src.run_sr_align     Task: Erase HISAT2 work directory for A2 
INFO 2017-11-05 09:10:42,403 src.run_sr_align     Running "bash -c rm -rf /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/*" 
INFO 2017-11-05 09:10:42,474 src.run_sr_align     Done Erase HISAT2 work directory for A2 
INFO 2017-11-05 09:10:42,474 src.run_sr_align     Returned code 0 (0.0677152 seconds)
INFO 2017-11-05 09:10:42,479 src.run_sr_align     --------------------------STEP 1--------------------------
INFO 2017-11-05 09:10:42,486 src.run_sr_align     Task: compute --known-splicesite-infile for HISAT2 
INFO 2017-11-05 09:10:42,486 src.run_sr_align     Running "bash -c hisat2_extract_splice_sites.py /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/example_small/Homo_sapiens.GRCh37.75.gtf" 
INFO 2017-11-05 09:11:22,132 src.run_sr_align     Done compute --known-splicesite-infile for HISAT2 
INFO 2017-11-05 09:11:22,133 src.run_sr_align     Returned code 0 (39.6349 seconds)
INFO 2017-11-05 09:11:22,134 src.run_sr_align     --------------------------STEP 2--------------------------
INFO 2017-11-05 09:11:22,135 src.run_sr_align     Task: HISAT2 for A2 
INFO 2017-11-05 09:11:22,136 src.run_sr_align     Running "bash -c hisat2  --dta --rg-id hisat2 --rg SM:A2 --threads 5 --known-splicesite-infile /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/known-splicesite.txt  -x /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/example/Homo_sapiens.GRCh37.75.dna.chromosome.21.HISAT2 -1 /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/A2_1.fq.gz -2 /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/A2_2.fq.gz -S /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/alignments.sam --novel-splicesite-outfile /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/splicesites.tab 2>/hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2hisat2_bam.log" 
INFO 2017-11-05 09:11:39,327 src.run_sr_align     Done HISAT2 for A2 
INFO 2017-11-05 09:11:39,329 src.run_sr_align     Returned code 0 (17.1787 seconds)
INFO 2017-11-05 09:11:39,329 src.run_sr_align     --------------------------STEP 3--------------------------
INFO 2017-11-05 09:11:39,330 src.run_sr_align     Task: converting SAM to BAM for A2 
INFO 2017-11-05 09:11:39,330 src.run_sr_align     Running "bash -c samtools view -Su /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/alignments.sam -@ 5 -o /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/alignments.bam" 
INFO 2017-11-05 09:11:41,685 src.run_sr_align     Done converting SAM to BAM for A2 
INFO 2017-11-05 09:11:41,686 src.run_sr_align     Returned code 0 (2.29305 seconds)
INFO 2017-11-05 09:11:41,686 src.run_sr_align     --------------------------STEP 4--------------------------
INFO 2017-11-05 09:11:41,687 src.run_sr_align     Task: sorting BAM for A2 
INFO 2017-11-05 09:11:41,687 src.run_sr_align     Running "bash -c samtools sort  -@ 5 /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/alignments.bam -o /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/alignments.sorted.bam" 
INFO 2017-11-05 09:11:43,105 src.run_sr_align     Done sorting BAM for A2 
INFO 2017-11-05 09:11:43,106 src.run_sr_align     Returned code 0 (1.40466 seconds)
INFO 2017-11-05 09:11:43,106 src.run_sr_align     --------------------------STEP 5--------------------------
INFO 2017-11-05 09:11:43,107 src.run_sr_align     Task: Converting junctions to BED for A2 
INFO 2017-11-05 09:11:43,107 src.run_sr_align     Running "bash -c hisat2_jun2bed.py /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/splicesites.tab /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/splicesites.bed " 
INFO 2017-11-05 09:11:43,539 src.run_sr_align     Done Converting junctions to BED for A2 
INFO 2017-11-05 09:11:43,539 src.run_sr_align     Returned code 0 (0.417333 seconds)
INFO 2017-11-05 09:11:43,539 src.run_sr_align     --------------------------STEP 6--------------------------
INFO 2017-11-05 09:11:43,540 src.run_sr_align     Task: Clean temp alignment files for A2 
INFO 2017-11-05 09:11:43,540 src.run_sr_align     Running "bash -c rm /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/alignments.sam /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/alignments.bam" 
INFO 2017-11-05 09:11:43,621 src.run_sr_align     Done Clean temp alignment files for A2 
INFO 2017-11-05 09:11:43,622 src.run_sr_align     Returned code 0 (0.0666649 seconds)
INFO 2017-11-05 09:11:43,625 src.run_sr_align     --------------------------STEP 7--------------------------
INFO 2017-11-05 09:11:43,626 src.run_sr_align     Task: Copy predictions to output directory for A2. 
INFO 2017-11-05 09:11:43,626 src.run_sr_align     Running "cp /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/alignments.sorted.bam /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/A2/alignments.sorted.bam" 
INFO 2017-11-05 09:11:44,171 src.run_sr_align     Done Copy predictions to output directory for A2. 
INFO 2017-11-05 09:11:44,172 src.run_sr_align     Returned code 0 (0.529044 seconds)
INFO 2017-11-05 09:11:44,173 src.run_sr_align     Task: Copy predictions to output directory for A2. 
INFO 2017-11-05 09:11:44,173 src.run_sr_align     Running "cp /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/splicesites.tab /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/A2/splicesites.tab" 
INFO 2017-11-05 09:11:45,586 src.run_sr_align     Done Copy predictions to output directory for A2. 
INFO 2017-11-05 09:11:45,586 src.run_sr_align     Returned code 0 (1.39529 seconds)
INFO 2017-11-05 09:11:45,587 src.run_sr_align     Task: Copy predictions to output directory for A2. 
INFO 2017-11-05 09:11:45,587 src.run_sr_align     Running "cp /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A2/splicesites.bed /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/A2/splicesites.bed" 
INFO 2017-11-05 09:11:46,161 src.run_sr_align     Done Copy predictions to output directory for A2. 
INFO 2017-11-05 09:11:46,161 src.run_sr_align     Returned code 0 (0.557708 seconds)
INFO 2017-11-05 09:11:46,162 src.run_sr_align     HISAT2 was successfull!
INFO 2017-11-05 09:11:46,162 src.run_sr_align     Output alignment: /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/A2/alignments.sorted.bam
INFO 2017-11-05 09:11:46,162 src.run_sr_align     Output junction tab: /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/A2/splicesites.tab
INFO 2017-11-05 09:11:46,162 src.run_sr_align     Output junction bed: /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/A2/splicesites.bed
INFO 2017-11-05 09:11:46,163 src.utils            Run log is saved in /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/logs/run-A2-align-20171105-091042.log
INFO 2017-11-05 09:11:46,163 src.utils            All Done!
