INFO 2017-11-05 09:10:42,388 src.utils            Running RNASeqPipeline 0.2.1
INFO 2017-11-05 09:10:42,388 src.utils            Command-line /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/scripts/run_rnacocktail.py align --align_idx /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/example/Homo_sapiens.GRCh37.75.dna.chromosome.21.HISAT2 --outdir /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out --workdir /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work --threads 5 --ref_gtf /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/example_small/Homo_sapiens.GRCh37.75.gtf --1 /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/A1_1.fq.gz --2 /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/A1_2.fq.gz --U  --sra  --sample A1 --hisat2_opts 
INFO 2017-11-05 09:10:42,389 src.utils            Arguments are Namespace(1='/hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/A1_1.fq.gz', 2='/hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/A1_2.fq.gz', U='', align_idx='/hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/example/Homo_sapiens.GRCh37.75.dna.chromosome.21.HISAT2', hisat2='hisat2', hisat2_opts='', hisat2_sps='hisat2_extract_splice_sites.py', mode='align', outdir='/hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out', ref_gtf='/hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/example_small/Homo_sapiens.GRCh37.75.gtf', sample='A1', samtools='samtools', sr_aligner='HISAT2', sra='', start=0, threads=5, timeout=10000000, workdir='/hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work')
INFO 2017-11-05 09:10:42,389 src.utils            Run log will be saved in /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/logs/run-A1-align-20171105-091042.log
INFO 2017-11-05 09:10:42,389 src.utils            Run in mode: align
INFO 2017-11-05 09:10:42,389 src.utils            Assigned sample ID: A1
INFO 2017-11-05 09:10:42,389 src.utils            Running align step using HISAT2
INFO 2017-11-05 09:10:42,389 src.run_sr_align     Running alignment (HISAT2) for A1
INFO 2017-11-05 09:10:42,397 src.run_sr_align     --------------------------STEP 0--------------------------
INFO 2017-11-05 09:10:42,398 src.run_sr_align     Task: Erase HISAT2 work directory for A1 
INFO 2017-11-05 09:10:42,398 src.run_sr_align     Running "bash -c rm -rf /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/*" 
INFO 2017-11-05 09:10:52,653 src.run_sr_align     Done Erase HISAT2 work directory for A1 
INFO 2017-11-05 09:10:52,654 src.run_sr_align     Returned code 0 (10.2514 seconds)
INFO 2017-11-05 09:10:52,658 src.run_sr_align     --------------------------STEP 1--------------------------
INFO 2017-11-05 09:10:52,665 src.run_sr_align     Task: compute --known-splicesite-infile for HISAT2 
INFO 2017-11-05 09:10:52,665 src.run_sr_align     Running "bash -c hisat2_extract_splice_sites.py /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/example_small/Homo_sapiens.GRCh37.75.gtf" 
INFO 2017-11-05 09:11:33,745 src.run_sr_align     Done compute --known-splicesite-infile for HISAT2 
INFO 2017-11-05 09:11:33,746 src.run_sr_align     Returned code 0 (41.0424 seconds)
INFO 2017-11-05 09:11:33,746 src.run_sr_align     --------------------------STEP 2--------------------------
INFO 2017-11-05 09:11:33,748 src.run_sr_align     Task: HISAT2 for A1 
INFO 2017-11-05 09:11:33,748 src.run_sr_align     Running "bash -c hisat2  --dta --rg-id hisat2 --rg SM:A1 --threads 5 --known-splicesite-infile /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/known-splicesite.txt  -x /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/example/Homo_sapiens.GRCh37.75.dna.chromosome.21.HISAT2 -1 /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/A1_1.fq.gz -2 /hwfssz1/ST_OCEAN/USER/guojiao1/app/rnacocktail-0.2.1/test/A1_2.fq.gz -S /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/alignments.sam --novel-splicesite-outfile /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/splicesites.tab 2>/hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1hisat2_bam.log" 
INFO 2017-11-05 09:11:39,402 src.run_sr_align     Done HISAT2 for A1 
INFO 2017-11-05 09:11:39,403 src.run_sr_align     Returned code 0 (5.63952 seconds)
INFO 2017-11-05 09:11:39,403 src.run_sr_align     --------------------------STEP 3--------------------------
INFO 2017-11-05 09:11:39,403 src.run_sr_align     Task: converting SAM to BAM for A1 
INFO 2017-11-05 09:11:39,404 src.run_sr_align     Running "bash -c samtools view -Su /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/alignments.sam -@ 5 -o /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/alignments.bam" 
INFO 2017-11-05 09:11:41,899 src.run_sr_align     Done converting SAM to BAM for A1 
INFO 2017-11-05 09:11:41,900 src.run_sr_align     Returned code 0 (2.48318 seconds)
INFO 2017-11-05 09:11:41,900 src.run_sr_align     --------------------------STEP 4--------------------------
INFO 2017-11-05 09:11:41,901 src.run_sr_align     Task: sorting BAM for A1 
INFO 2017-11-05 09:11:41,901 src.run_sr_align     Running "bash -c samtools sort  -@ 5 /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/alignments.bam -o /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/alignments.sorted.bam" 
INFO 2017-11-05 09:11:43,508 src.run_sr_align     Done sorting BAM for A1 
INFO 2017-11-05 09:11:43,508 src.run_sr_align     Returned code 0 (1.59549 seconds)
INFO 2017-11-05 09:11:43,509 src.run_sr_align     --------------------------STEP 5--------------------------
INFO 2017-11-05 09:11:43,509 src.run_sr_align     Task: Converting junctions to BED for A1 
INFO 2017-11-05 09:11:43,509 src.run_sr_align     Running "bash -c hisat2_jun2bed.py /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/splicesites.tab /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/splicesites.bed " 
INFO 2017-11-05 09:11:43,654 src.run_sr_align     Done Converting junctions to BED for A1 
INFO 2017-11-05 09:11:43,654 src.run_sr_align     Returned code 0 (0.129564 seconds)
INFO 2017-11-05 09:11:43,654 src.run_sr_align     --------------------------STEP 6--------------------------
INFO 2017-11-05 09:11:43,655 src.run_sr_align     Task: Clean temp alignment files for A1 
INFO 2017-11-05 09:11:43,655 src.run_sr_align     Running "bash -c rm /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/alignments.sam /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/alignments.bam" 
INFO 2017-11-05 09:11:43,732 src.run_sr_align     Done Clean temp alignment files for A1 
INFO 2017-11-05 09:11:43,733 src.run_sr_align     Returned code 0 (0.0628459 seconds)
INFO 2017-11-05 09:11:43,734 src.run_sr_align     --------------------------STEP 7--------------------------
INFO 2017-11-05 09:11:43,735 src.run_sr_align     Task: Copy predictions to output directory for A1. 
INFO 2017-11-05 09:11:43,735 src.run_sr_align     Running "cp /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/alignments.sorted.bam /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/A1/alignments.sorted.bam" 
INFO 2017-11-05 09:11:44,067 src.run_sr_align     Done Copy predictions to output directory for A1. 
INFO 2017-11-05 09:11:44,068 src.run_sr_align     Returned code 0 (0.319022 seconds)
INFO 2017-11-05 09:11:44,068 src.run_sr_align     Task: Copy predictions to output directory for A1. 
INFO 2017-11-05 09:11:44,069 src.run_sr_align     Running "cp /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/splicesites.tab /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/A1/splicesites.tab" 
INFO 2017-11-05 09:11:44,412 src.run_sr_align     Done Copy predictions to output directory for A1. 
INFO 2017-11-05 09:11:44,413 src.run_sr_align     Returned code 0 (0.3315 seconds)
INFO 2017-11-05 09:11:44,414 src.run_sr_align     Task: Copy predictions to output directory for A1. 
INFO 2017-11-05 09:11:44,414 src.run_sr_align     Running "cp /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/hisat2/A1/splicesites.bed /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/A1/splicesites.bed" 
INFO 2017-11-05 09:11:44,624 src.run_sr_align     Done Copy predictions to output directory for A1. 
INFO 2017-11-05 09:11:44,625 src.run_sr_align     Returned code 0 (0.197167 seconds)
INFO 2017-11-05 09:11:44,625 src.run_sr_align     HISAT2 was successfull!
INFO 2017-11-05 09:11:44,625 src.run_sr_align     Output alignment: /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/A1/alignments.sorted.bam
INFO 2017-11-05 09:11:44,625 src.run_sr_align     Output junction tab: /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/A1/splicesites.tab
INFO 2017-11-05 09:11:44,625 src.run_sr_align     Output junction bed: /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/out/hisat2/A1/splicesites.bed
INFO 2017-11-05 09:11:44,626 src.utils            Run log is saved in /hwfssz1/ST_OCEAN/USER/guojiao1/Project/RNAcocktail_test/work/logs/run-A1-align-20171105-091042.log
INFO 2017-11-05 09:11:44,626 src.utils            All Done!
